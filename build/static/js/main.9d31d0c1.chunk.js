(this.webpackJsonpgallery=this.webpackJsonpgallery||[]).push([[0],{10:function(e,t,c){e.exports={modalPage:"photoView_modalPage__3y3w5",modalWrapper:"photoView_modalWrapper__JBLv2",close:"photoView_close__uY77n",control:"photoView_control__1J5Vv",control__left:"photoView_control__left__iYWxe",control__right:"photoView_control__right__6NSsr"}},12:function(e,t,c){e.exports={album:"albumItem_album__3KaYa",title:"albumItem_title__39AV0",count:"albumItem_count__3utv_",cover:"albumItem_cover__19R97",text:"albumItem_text__2YJuJ"}},13:function(e,t,c){e.exports={select:"select_select__1AtO0",select__header:"select_select__header__3mOtw",select__mobile_header:"select_select__mobile_header__jdmt5",select__list:"select_select__list__1iANR",select__item:"select_select__item__2Rkv8"}},20:function(e,t,c){e.exports={wrapper:"header_wrapper__s2RXq",header:"header_header__MyZlq",title:"header_title__3RyWT"}},22:function(e,t,c){e.exports={header:"photosList_header__2yX-Q",back:"photosList_back__1hisr",backText:"photosList_backText__1w3VR"}},26:function(e,t,c){e.exports={wrapper:"photoItem_wrapper__3p3um",info:"photoItem_info__1WkGk"}},40:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(28),r=c.n(a),l=(c(40),c(9)),o=c(4),i=c(13),u=c.n(i),j=c(15),d=c(29),b=c(8),h=c(1);var _=function(e){var t,c=e.list,s=e.selectedElementIndex,a=e.onElementClick,r=e.getLink,o=Object(n.useState)(!1),i=Object(l.a)(o,2),_=i[0],m=i[1];return Object(h.jsxs)("div",{className:u.a.select,onClick:function(){return m(!_)},children:[Object(h.jsxs)("div",{className:u.a.select__header,children:[Object(h.jsx)("span",{children:null===(t=c[s])||void 0===t?void 0:t.name}),_?Object(h.jsx)(j.a,{size:"1.2em"}):Object(h.jsx)(j.b,{size:"1.2em"})]}),Object(h.jsx)("div",{className:u.a.select__mobile_header,children:Object(h.jsx)(d.a,{})}),_&&Object(h.jsx)("div",{className:u.a.select__list,children:c.map((function(e,t){return t!==s&&Object(h.jsx)("div",{className:u.a.select__item,onClick:function(){return a(t)},children:Object(h.jsx)(b.b,{to:r(e.id),children:e.name})},e.id)}))})]})},m=c(20),p=c.n(m),x=function(e){return"/user/".concat(e)};var O=function(e){var t=e.userList,c=e.selectedUserIndex,n=e.onChangeUser;return Object(h.jsx)("header",{className:p.a.wrapper,children:Object(h.jsxs)("div",{className:p.a.header,children:[Object(h.jsx)("div",{className:p.a.title,children:"Photo gallery"}),Object(h.jsx)(_,{list:t,selectedElementIndex:c,onElementClick:n,getLink:x})]})})},f=c(16),v=c(35),g=c(10),N=c.n(g),k=c(21);var w=function(e){var t=e.photo,c=Object(v.a)(e,["photo"]);return Object(h.jsx)("div",{className:N.a.modalPage,children:Object(h.jsxs)("div",{className:N.a.modalWrapper,children:[Object(h.jsx)("h1",{className:N.a.close,onClick:c.close,children:Object(h.jsx)(k.c,{})}),Object(h.jsx)("div",{className:"".concat(N.a.control," ").concat(N.a.control__left),onClick:c.prev,children:Object(h.jsx)(k.a,{size:"1.3rem"})}),Object(h.jsx)("img",{src:t,alt:t}),Object(h.jsx)("div",{className:"".concat(N.a.control," ").concat(N.a.control__right),onClick:c.next,children:Object(h.jsx)(k.b,{size:"1.3rem"})})]})})},I=c(26),y=c.n(I);var C=function(e){var t=e.title,c=e.thumbnailUrl,n=e.onClick;return Object(h.jsxs)("div",{className:y.a.wrapper,onClick:n,children:[Object(h.jsx)("img",{src:c,alt:t}),Object(h.jsx)("div",{className:y.a.info,children:t})]})},L=c(7),U=c.n(L),W=c(22),S=c.n(W),V=c(31);var E=function(e){var t=e.albums,c=Object(o.h)().albumId,s=Object(n.useMemo)((function(){return t.find((function(e){return String(e.id)===c}))}),[t,c]),a=s?s.photos:[],r=Object(o.g)(),i=Object(n.useState)(),u=Object(l.a)(i,2),j=u[0],d=u[1],b=function(e){return d({url:a[e].url,index:e,name:a[e].name})};return Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)("div",{className:U.a.wrapper,children:Object(h.jsxs)("div",{className:U.a.content,children:[Object(h.jsxs)("div",{className:"".concat(U.a.header," ").concat(S.a.header),children:[Object(h.jsxs)("h2",{className:S.a.back,onClick:r.goBack,children:[Object(h.jsx)(V.a,{}),Object(h.jsx)("span",{className:S.a.backText,children:"Back"})]}),Object(h.jsx)("h1",{children:null===s||void 0===s?void 0:s.title})]}),Object(h.jsx)("div",{className:U.a.elements,children:a.length?a.map((function(e,t){return Object(h.jsx)(C,Object(f.a)({onClick:function(){return b(t)}},e),t)})):r.goBack()})]})}),j&&Object(h.jsx)(w,{photo:j.url,close:function(){return d(void 0)},next:function(){return b((e=j.index,t=a.length,e===t-1?0:e+1));var e,t},prev:function(){return b((e=j.index,t=a.length,0===e?t-1:e-1));var e,t}})]})},J=c(12),R=c.n(J);var z=function(e){var t=e.title,c=e.cover,n=e.count;return Object(h.jsxs)("div",{className:R.a.album,children:[Object(h.jsx)("div",{className:R.a.cover,children:Object(h.jsx)("img",{src:c.thumbnailUrl,alt:t})}),Object(h.jsxs)("div",{className:R.a.text,children:[Object(h.jsx)("span",{className:R.a.title,children:t}),Object(h.jsxs)("span",{className:R.a.count,children:[Object(h.jsx)(j.c,{}),n]})]})]})};var A=function(e){var t=e.albums,c=e.user,n=Object(o.h)().userId;return Object(h.jsx)("div",{className:U.a.wrapper,children:Object(h.jsxs)("div",{className:U.a.content,children:[Object(h.jsx)("h1",{className:U.a.header,children:"".concat(c.name,"'s albums")}),Object(h.jsx)("div",{className:U.a.elements,children:t.map((function(e){return Object(h.jsx)(b.b,{to:"/users/".concat(n,"/albums/").concat(e.id),children:Object(h.jsx)(z,{title:e.title,cover:e.photos[e.photos.length-1],count:e.photos.length})},e.id)}))})]})})};var B=function(e){var t=e.albumsList,c=e.selectedUser;return Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{exact:!0,path:"/users/:userId",children:Object(h.jsx)(A,{albums:t,user:c})}),Object(h.jsx)(o.b,{path:"/users/:userId/albums/:albumId",children:Object(h.jsx)(E,{albums:t})})]})},M=c(27),P=c.n(M),T=c(32),Y=c(33),q=c(34),D=function(){function e(){Object(Y.a)(this,e)}return Object(q.a)(e,null,[{key:"getUsers",value:function(){return fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(e){return e.map((function(e){return{id:e.id,name:e.name}}))}))}},{key:"getAlbumsData",value:function(){var e=Object(T.a)(P.a.mark((function e(t){var c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/albums?userId=".concat(t)).then((function(e){return e.json()}));case 2:return c=e.sent,e.abrupt("return",fetch("https://jsonplaceholder.typicode.com/photos?".concat(c.map((function(e){return"albumId=".concat(e.id)})).join("&"))).then((function(e){return e.json()})).then((function(e){return c.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{photos:e.filter((function(e){return e.albumId===t.id}))})}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var F=function(){var e,t=Object(n.useState)([]),c=Object(l.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(0),i=Object(l.a)(r,2),u=i[0],j=i[1],d=Object(n.useState)([]),b=Object(l.a)(d,2),_=b[0],m=b[1],p=null===(e=s[u])||void 0===e?void 0:e.id;return Object(n.useEffect)((function(){s.length>0&&D.getAlbumsData(s[u].id).then((function(e){m(e)}))}),[s,u]),Object(n.useEffect)((function(){D.getUsers().then((function(e){return a(e)}))}),[]),s.length>0?Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.a,{exact:!0,from:"/users",to:"/users/".concat(p)}),Object(h.jsx)(o.a,{exact:!0,from:"/",to:"/users/".concat(p)}),Object(h.jsxs)(o.b,{from:"/users",children:[Object(h.jsx)(O,{userList:s,selectedUserIndex:u,onChangeUser:j}),Object(h.jsx)(B,{albumsList:_,selectedUser:s[u]})]}),Object(h.jsx)(o.a,{from:"*",to:"/users/".concat(p)})]}):Object(h.jsx)("div",{children:"Sorry, the page is temporarily unavailable :("})};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(b.a,{children:Object(h.jsx)(F,{})})}),document.getElementById("root"))},7:function(e,t,c){e.exports={wrapper:"contentWrapper_wrapper__1czQn",content:"contentWrapper_content__2bpMx",header:"contentWrapper_header__2w1Zr",elements:"contentWrapper_elements__3__uF"}}},[[51,1,2]]]);
//# sourceMappingURL=main.9d31d0c1.chunk.js.map